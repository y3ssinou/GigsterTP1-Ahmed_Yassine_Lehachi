@page "{id:int}"
@model GigsterTP1.Pages.Categories.DetailsModel
@{
    ViewData["Title"] = Model.Categorie.Nom;
}

<h1 class="text-center mb-5 mt-2">Détails de l'article : @Model.Categorie.Nom</h1>

<div class="row">
    @foreach (var service in Model.Categorie.LesServices)
    {
        <div class="col-md-4 mb-4">
            <div class="card p-3 bg-light rounded-3">
                <div class="d-flex align-items-center mb-3">
                    <img src="/uploads/avatars/@service.Utilisateur.Avatar"
                         alt="Avatar de @service.Utilisateur.UserName" class="avatar rounded-circle">
                    <div>
                        <p class="ps-2 text-dark">@service.Utilisateur.UserName</p>
                    </div>
                </div>

                <p class="card-text text-dark mb-3">@service.Description</p>

                <div class="d-flex align-items-center mb-3">
                    <span class="text-muted ms-2">Nombre de votes : @service.NbrVotes</span>
                </div>

                <p class="card-text mb-3">
                    <strong>À partir de @service.Tarif $</strong>
                </p>

                <a asp-page="/Soumissions/Create" asp-route-serviceId="@service.Id" 
                class="btn btn-primary text-center ps-4 pe-4">Voir</a>
            </div>
        </div>
    }
</div>

<a asp-page="/Categories/Index" class="btn btn-secondary">Retour à la liste des catégories</a>